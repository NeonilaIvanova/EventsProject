<!DOCTYPE html>
<html lang="en" ng-app='eventsApp'>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Event regi</title>
  <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" href="./css/styles.css" />
</head>

<body>
  <div class="container">
    <ul class="nav justify-content-center">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#">Active</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
      </li>
    </ul>
    <div class="col-12" ng-controller="EventController">
      <div class="text-center pb-3 pt-5">
        <img src="{{event.imgUrl}}" class="img-fluid" alt="{{event.name}}">
      </div>

      <div class="event mt-5 mb-3 ng-cloak">
        <div class="row justify-content-center">
          <div class="event-data row col-10">
            <h1 class="mb-2">{{event.name}}</h1>
            <div class="col-6">
              <strong>Date: </strong>{{event.date}}<br>
              <strong>Time: </strong>{{event.time}}
            </div>
            <div class="col-6">
              <address>
                <strong>Address:</strong><br>
                {{event.location.address}}<br>
                {{event.location.city}}, {{event.location.province}}
              </address>
            </div>
          </div>

        </div>
      </div>



      <div class="sessions">
        <div class="row justify-content-center pb-2">
          <h4 class="sessions__title col-1">Sessions:</h4>
          <div class="col-9">
            <!--  <select ng-model="sortorder" class="form-select" aria-label="Default select example" style="width:auto;">
              <option selected value="">Order by</option>
              <option value="name">Name</option>
              <option value="-upVoteCount">Vote</option>
            </select> -->

            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                data-bs-toggle="dropdown" aria-expanded="false">
                Order by {{showName}}
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                <li ng-click="sortData('name', 'name')"><a class="dropdown-item">Name</a></li>
                <li ng-click="sortData('-upVoteCount', 'vote')"><a class="dropdown-item">Vote</a></li>
              </ul>
            </div>
          </div>

        </div>

        <div class="session row justify-content-center" ng-repeat="session in event.sessions | orderBy:sortBy">
          <div
            class="session__voting-widget badge rounded-pill bg-secondary col-1 d-flex flex-column justify-content-around">
            <div ng-click="upVoteSession(session)" class="voting-widget__arrow">
              <img src="./imgs/up-arrow.png" alt="" class=" img-fluid">
            </div>
            <h5 class="voting-widget__vote ">{{session.upVoteCount}}</h5>
            <div ng-click="downVoteSession(session)" class="voting-widget__arrow">
              <img src="./imgs/down-arrow.png" alt="" class=" img-fluid">
            </div>
          </div>

          <div class="session__session-info card mb-3 col-9">
            <div class="card-body">
              <h5 class="card-title">
                {{session.name}}
              </h5>
              <h6 class="card-subtitle">{{session.creatorName}}</h6>
              <div class="card-text mt-3">
                <span>Duration: {{session.duration}}</span><br>
                <span>Level: {{session.level}}</span><br>
                <span>{{session.abstract}}</span>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>




  <script src="./lib/jquery/jquery.js"></script>
  <script src="./lib/underscore/underscore-min.js"></script>
  <script src="./lib/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="./lib/angular/angular.js"></script>
  <script src="./js/app.js"></script>
  <script src="./js/controllers/EventController.js "></script>
</body>

</html>